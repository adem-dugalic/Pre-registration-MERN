{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\USER\\\\Desktop\\\\online_enrollment-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";//import { Link } from 'react-router-dom';\nimport{Navbar,Nav,NavDropdown,Button}from\"react-bootstrap\";import\"C:/Users/USER/Desktop/online_enrollment-master/src/css/main.css\";import Cookie from\"js-cookie\";import axios from\"axios\";var btnStyle={margin:\"5px\"};var Navigation=/*#__PURE__*/function(_Component){_inherits(Navigation,_Component);var _super=_createSuper(Navigation);function Navigation(props){var _this;_classCallCheck(this,Navigation);_this=_super.call(this,props);_this.logout=_this.logout.bind(_assertThisInitialized(_this));_this.state={isLogin:false,buttons:\"\"};return _this;}_createClass(Navigation,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(Cookie.get(\"token\")){_context.next=3;break;}this.setState({buttons:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"success\",style:btnStyle,href:\"/login\"},\"Login\"),/*#__PURE__*/React.createElement(Button,{variant:\"outline-success\",style:btnStyle,href:\"/signup\"},\"Sign up\"))});return _context.abrupt(\"return\");case 3:_context.next=5;return fetch(\"http://localhost:5000/users/auth?token=\"+Cookie.get(\"token\")+\"&userId=\"+Cookie.get(\"userId\"));case 5:response=_context.sent;if(response.status===200)this.setState({buttons:/*#__PURE__*/React.createElement(Button,{variant:\"success\",style:btnStyle,onClick:this.logout},\"logout\")});else{this.setState({buttons:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"success\",style:btnStyle,href:\"/login\"},\"Login\"),/*#__PURE__*/React.createElement(Button,{variant:\"outline-success\",style:btnStyle,href:\"/signup\"},\"Sign up\"))});}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"logout\",value:function logout(){axios.get(\"http://localhost:5000/users/logout?token=\"+Cookie.get(\"token\")+\"&userId=\"+Cookie.get(\"userId\")).then(function(res){Cookie.remove(\"token\");Cookie.remove(\"userId\");window.location=\"/\";}).catch(function(err){/*alert(\"Error: \" + err);*/ //Very strange beacause we considere it has an error but it is not...\nCookie.remove(\"token\");Cookie.remove(\"userId\");window.location=\"/\";});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"nav\",{class:\"navigation\"},/*#__PURE__*/React.createElement(\"div\",{class:\"logo\"},/*#__PURE__*/React.createElement(\"img\",{class:\"ius\",src:\"img/IUSlogo2.png\"}),/*#__PURE__*/React.createElement(\"span\",{class:\"user\"},\"Adem Dugali\\u0107\")),/*#__PURE__*/React.createElement(\"div\",{class:\"upButtons\"},/*#__PURE__*/React.createElement(\"div\",{class:\"links\"},/*#__PURE__*/React.createElement(\"a\",{id:\"home\",href:\"index.html\"},/*#__PURE__*/React.createElement(\"span\",{\"data-hover\":\"Home\"},\"Home\")),/*#__PURE__*/React.createElement(\"a\",{id:\"MyCourses\",href:\"myCourses.html\"},/*#__PURE__*/React.createElement(\"span\",{\"data-hover\":\"MyCourses\"},\"My courses\")),/*#__PURE__*/React.createElement(\"a\",{id:\"AddCourses\",href:\"addCourses.html\"},/*#__PURE__*/React.createElement(\"span\",{\"data-hover\":\"AddCourses\"},\"Add courses\")),/*#__PURE__*/React.createElement(\"a\",{id:\"Schedule\",href:\"schedule.html\"},/*#__PURE__*/React.createElement(\"span\",{\"data-hover\":\"Schedule\"},\"Schedule\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"downButtons\"},/*#__PURE__*/React.createElement(\"div\",{class:\"links\"},/*#__PURE__*/React.createElement(\"a\",{id:\"LogOut\",href:\"#\"},/*#__PURE__*/React.createElement(\"span\",{\"data-hover\":\"LogOut\"},\"Log Out\")))));}}]);return Navigation;}(Component);export{Navigation as default};","map":{"version":3,"sources":["C:/Users/USER/Desktop/online_enrollment-master/src/components/navbar.component.js"],"names":["React","Component","Navbar","Nav","NavDropdown","Button","Cookie","axios","btnStyle","margin","Navigation","props","logout","bind","state","isLogin","buttons","get","setState","fetch","response","status","then","res","remove","window","location","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import { Link } from 'react-router-dom';\nimport { Navbar, Nav, NavDropdown, Button } from \"react-bootstrap\";\nimport \"C:/Users/USER/Desktop/online_enrollment-master/src/css/main.css\";\nimport Cookie from \"js-cookie\";\nimport axios from \"axios\";\n\nconst btnStyle = {\n  margin: \"5px\",\n};\n\nexport default class Navigation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = this.logout.bind(this);\n\n    this.state = {\n      isLogin: false,\n      buttons: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    /*Check if the user is properly authenticated*/\n    if (!Cookie.get(\"token\")) {\n      this.setState({\n        buttons: (\n          <div>\n            <Button variant=\"success\" style={btnStyle} href=\"/login\">\n              Login\n            </Button>\n            <Button variant=\"outline-success\" style={btnStyle} href=\"/signup\">\n              Sign up\n            </Button>\n          </div>\n        ),\n      });\n      return;\n    }\n\n    const response = await fetch(\n      \"http://localhost:5000/users/auth?token=\" +\n        Cookie.get(\"token\") +\n        \"&userId=\" +\n        Cookie.get(\"userId\")\n    );\n\n    if (response.status === 200)\n      this.setState({\n        buttons: (\n          <Button variant=\"success\" style={btnStyle} onClick={this.logout}>\n            logout\n          </Button>\n        ),\n      });\n    else {\n      this.setState({\n        buttons: (\n          <div>\n            <Button variant=\"success\" style={btnStyle} href=\"/login\">\n              Login\n            </Button>\n            <Button variant=\"outline-success\" style={btnStyle} href=\"/signup\">\n              Sign up\n            </Button>\n          </div>\n        ),\n      });\n    }\n  }\n\n  logout() {\n    axios\n      .get(\n        \"http://localhost:5000/users/logout?token=\" +\n          Cookie.get(\"token\") +\n          \"&userId=\" +\n          Cookie.get(\"userId\")\n      )\n      .then((res) => {\n        Cookie.remove(\"token\");\n        Cookie.remove(\"userId\");\n        window.location = \"/\";\n      })\n      .catch((err) => {\n        /*alert(\"Error: \" + err);*/ //Very strange beacause we considere it has an error but it is not...\n        Cookie.remove(\"token\");\n        Cookie.remove(\"userId\");\n        window.location = \"/\";\n      });\n  }\n\n  render() {\n    return (\n      <nav class=\"navigation\">\n        <div class=\"logo\">\n          <img class=\"ius\" src=\"img/IUSlogo2.png\" />\n          <span class=\"user\">Adem DugaliÄ‡</span>\n        </div>\n        <div class=\"upButtons\">\n          <div class=\"links\">\n            <a id=\"home\" href=\"index.html\">\n              <span data-hover=\"Home\">Home</span>\n            </a>\n            <a id=\"MyCourses\" href=\"myCourses.html\">\n              <span data-hover=\"MyCourses\">My courses</span>\n            </a>\n            <a id=\"AddCourses\" href=\"addCourses.html\">\n              <span data-hover=\"AddCourses\">Add courses</span>\n            </a>\n            <a id=\"Schedule\" href=\"schedule.html\">\n              <span data-hover=\"Schedule\">Schedule</span>\n            </a>\n          </div>\n        </div>\n        <div class=\"downButtons\">\n          <div class=\"links\">\n            <a id=\"LogOut\" href=\"#\">\n              <span data-hover=\"LogOut\">Log Out</span>\n            </a>\n          </div>\n        </div>\n      </nav>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}